!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).ozyPlayerSDK={})}(this,(function(e){"use strict";function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function o(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,n);if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==t(n)?n:n+""}function i(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,o(i.key),i)}}function r(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var l,a,s,c,u,d;function C(e){var n=Math.floor(e/3600),t=Math.floor(e%3600/60),o=Math.floor(e%60);return(n=n>=10?n:"0"+n)+":"+(t=t>=10?t:"0"+t)+":"+(o=o>=10?o:"0"+o)}function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}function E(e,n){if(e){if("string"==typeof e)return v(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(e,n):void 0}}function p(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e){var n=function(e){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=f(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(n)?n:n+""}function m(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,h(o.key),o)}}function y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,i,r,l,a=[],s=!0,c=!1;try{if(r=(t=t.call(e)).next,0===n);else for(;!(s=(o=r.call(t)).done)&&(a.push(o.value),a.length!==n);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(e,n)||E(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e,n){void 0===n&&(n={});var t=n.insertAt;if("undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===t&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}('.zeasn-whale-player {\n  width: 100%;\n  height: 100%;\n  position: relative; }\n  .zeasn-whale-player .zeasn-whale-player-video {\n    width: 100%;\n    height: 100%;\n    position: relative;\n    z-index: 1; }\n    .zeasn-whale-player .zeasn-whale-player-video.whale-player-fullscreen {\n      background: black; }\n  .zeasn-whale-player .zeasn-whale-player-control {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 2;\n    display: none; }\n    .zeasn-whale-player .zeasn-whale-player-control.zeasn-whale-player-control-show {\n      display: block; }\n    .zeasn-whale-player .zeasn-whale-player-control .zeasn-whale-player-control-content {\n      width: 100vw;\n      height: 22vh;\n      position: absolute;\n      left: 0;\n      bottom: 0;\n      padding: 0 2.6vw;\n      background: linear-gradient(180deg, transparent, rgba(0, 0, 0, 0.8));\n      -webkit-backdrop-filter: blur(0.03rem);\n              backdrop-filter: blur(0.03rem);\n      color: #fff;\n      box-sizing: border-box; }\n      .zeasn-whale-player .zeasn-whale-player-control .zeasn-whale-player-control-content .video-title {\n        width: 100%;\n        height: 6.5vh;\n        font-size: 2.08vw;\n        line-height: 6.5vh;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap; }\n      .zeasn-whale-player .zeasn-whale-player-control .zeasn-whale-player-control-content .video-progress {\n        width: 100%;\n        height: 0.925vh;\n        margin: 1.85vh 0 0 0;\n        border-radius: 0.4125vh;\n        background: rgba(255, 255, 255, 0.33);\n        overflow: hidden; }\n        .zeasn-whale-player .zeasn-whale-player-control .zeasn-whale-player-control-content .video-progress span {\n          width: 0;\n          height: 100%;\n          background-color: #fff;\n          display: block; }\n      .zeasn-whale-player .zeasn-whale-player-control .zeasn-whale-player-control-content .video-panel {\n        height: 12.72vh;\n        display: flex;\n        align-items: center;\n        font-size: 1.35vw; }\n        .zeasn-whale-player .zeasn-whale-player-control .zeasn-whale-player-control-content .video-panel .video-panel-left,\n        .zeasn-whale-player .zeasn-whale-player-control .zeasn-whale-player-control-content .video-panel .video-panel-right {\n          width: 20vw; }\n        .zeasn-whale-player .zeasn-whale-player-control .zeasn-whale-player-control-content .video-panel .video-panel-con {\n          flex: 1;\n          width: 60vw;\n          display: flex;\n          justify-content: center; }\n        .zeasn-whale-player .zeasn-whale-player-control .zeasn-whale-player-control-content .video-panel .video-panel-right {\n          display: flex;\n          justify-content: flex-end;\n          align-items: center; }\n        .zeasn-whale-player .zeasn-whale-player-control .zeasn-whale-player-control-content .video-panel .video-btn {\n          width: 4.16vw;\n          height: 4.16vw;\n          margin: 0 1.3vw;\n          cursor: pointer;\n          border: none;\n          background-position: center;\n          background-repeat: no-repeat;\n          background-size: cover;\n          background-color: transparent;\n          border-radius: 100%; }\n          .zeasn-whale-player .zeasn-whale-player-control .zeasn-whale-player-control-content .video-panel .video-btn.onFocus {\n            background-color: #4993ff; }\n          .zeasn-whale-player .zeasn-whale-player-control .zeasn-whale-player-control-content .video-panel .video-btn.retreat {\n            background-image: url("data:image/svg+xml,%3C%3Fxml version%3D%221.0%22 encoding%3D%22UTF-8%22%3F%3E%3Csvg width%3D%2280px%22 height%3D%2280px%22 viewBox%3D%220 0 80 80%22 version%3D%221.1%22 xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E    %3Ctitle%3E%E5%88%87%E7%89%87%3C%2Ftitle%3E    %3Cg id%3D%22%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%22 stroke%3D%22none%22 stroke-width%3D%221%22 fill%3D%22none%22 fill-rule%3D%22evenodd%22%3E        %3Cg id%3D%2220221017-%E6%96%B0%E9%9C%80%E6%B1%82%EF%BC%881%EF%BC%89%22 transform%3D%22translate(-790.000000%2C -942.000000)%22 fill%3D%22%23FFFFFF%22%3E            %3Cg id%3D%22Icon%2Fgo-back-15s%22 transform%3D%22translate(790.000000%2C 942.000000)%22%3E                %3Cg id%3D%22%E7%BC%96%E7%BB%84-6%22%3E                    %3Ccircle id%3D%22%E6%A4%AD%E5%9C%86%E5%BD%A2%22 opacity%3D%220%22 cx%3D%2240%22 cy%3D%2240%22 r%3D%2240%22%3E%3C%2Fcircle%3E                    %3Cg id%3D%22%E7%BC%96%E7%BB%84-5%22 transform%3D%22translate(22.000000%2C 19.000000)%22 fill-rule%3D%22nonzero%22%3E                        %3Cpath d%3D%22M18.9974708%2C12.1696755 C18.9974708%2C12.5556946 18.7149805%2C12.6960652 18.397179%2C12.4855093 L8.8631323%2C6.66012942 C8.54533074%2C6.44957352 8.54533074%2C6.13373966 8.8631323%2C5.92318376 L18.397179%2C0.09780385 C18.7149805%2C-0.112752051 18.9974708%2C0.0276185498 18.9974708%2C0.413637701 L18.9974708%2C4.65984836 C28.6374514%2C5.08096016 36.3%2C12.9768064 36.3%2C22.6623779 C36.3%2C32.6286905 28.1784047%2C40.7 18.15%2C40.7 C8.12159533%2C40.7 0%2C32.6286905 0%2C22.6623779 C0%2C18.9776496 1.12996109%2C15.3981993 3.24863813%2C12.3451387 C3.77830739%2C11.6081931 4.80233463%2C11.4327298 5.5438716%2C11.9591196 C6.28540856%2C12.4855093 6.46196498%2C13.4681035 5.967607%2C14.2050492 C4.23735409%2C16.6615347 3.3192607%2C19.5742246 3.3192607%2C22.6272852 C3.3192607%2C30.76878 9.9577821%2C37.3661982 18.15%2C37.3661982 C26.3422179%2C37.3661982 32.9807393%2C30.76878 32.9807393%2C22.6272852 C32.9807393%2C14.7665316 26.7659533%2C8.30948397 18.9621595%2C7.88837217 L18.9621595%2C12.1696755 L18.9974708%2C12.1696755 Z%22 id%3D%22%E5%BD%A2%E7%8A%B6%22%3E%3C%2Fpath%3E                        %3Cpath d%3D%22M10.45%2C28.395756 L17.0267754%2C28.395756 L17.0267754%2C26.6596817 L14.9724568%2C26.6596817 L14.9724568%2C17.6 L13.3615163%2C17.6 C12.6668906%2C18.0230769 11.9131478%2C18.3002653 10.8194818%2C18.5045093 L10.8194818%2C19.8320955 L12.799904%2C19.8320955 L12.799904%2C26.6596817 L10.45%2C26.6596817 L10.45%2C28.395756 Z%22 id%3D%2215%22%3E%3C%2Fpath%3E                    %3C%2Fg%3E                %3C%2Fg%3E                %3Ctext id%3D%220%22 font-family%3D%22SourceHanSansCN-Bold%2C Source Han Sans CN%22 font-size%3D%2215%22 font-weight%3D%22bold%22%3E                    %3Ctspan x%3D%2240%22 y%3D%2247.5%22%3E0%3C%2Ftspan%3E                %3C%2Ftext%3E            %3C%2Fg%3E        %3C%2Fg%3E    %3C%2Fg%3E%3C%2Fsvg%3E"); }\n          .zeasn-whale-player .zeasn-whale-player-control .zeasn-whale-player-control-content .video-panel .video-btn.advance {\n            background-image: url("data:image/svg+xml,%3C%3Fxml version%3D%221.0%22 encoding%3D%22UTF-8%22%3F%3E%3Csvg width%3D%2280px%22 height%3D%2280px%22 viewBox%3D%220 0 80 80%22 version%3D%221.1%22 xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E    %3Ctitle%3EIcon%2Fgo ahead 10s%2Funfocus%3C%2Ftitle%3E    %3Cg id%3D%22Icon%2Fgo-ahead-10s%2Funfocus%22 stroke%3D%22none%22 stroke-width%3D%221%22 fill%3D%22none%22 fill-rule%3D%22evenodd%22%3E        %3Ccircle id%3D%22%E6%A4%AD%E5%9C%86%E5%BD%A2%22 fill%3D%22%23FFFFFF%22 opacity%3D%220%22 cx%3D%2240%22 cy%3D%2240%22 r%3D%2240%22%3E%3C%2Fcircle%3E        %3Cpath d%3D%22M39.8302215%2C19.0553956 L39.902821%2C19.0978039 L49.4368677%2C24.9231838 C49.7257782%2C25.1145982 49.7520428%2C25.3930192 49.5156615%2C25.6002531 L49.4368677%2C25.6601294 L39.902821%2C31.4855093 C39.6094657%2C31.6798686 39.3461982%2C31.5752136 39.3074313%2C31.2543483 L39.3025292%2C31.1696755 L39.3378405%2C31.1696755 L39.3378405%2C26.8883722 C31.5340467%2C27.309484 25.3192607%2C33.7665316 25.3192607%2C41.6272852 C25.3192607%2C49.76878 31.9577821%2C56.3661982 40.15%2C56.3661982 C48.3422179%2C56.3661982 54.9807393%2C49.76878 54.9807393%2C41.6272852 C54.9807393%2C38.5742246 54.0626459%2C35.6615347 52.332393%2C33.2050492 C51.838035%2C32.4681035 52.0145914%2C31.4855093 52.7561284%2C30.9591196 C53.4976654%2C30.4327298 54.5216926%2C30.6081931 55.0513619%2C31.3451387 C57.1700389%2C34.3981993 58.3%2C37.9776496 58.3%2C41.6623779 C58.3%2C51.6286905 50.1784047%2C59.7 40.15%2C59.7 C30.1215953%2C59.7 22%2C51.6286905 22%2C41.6623779 C22%2C32.0881348 29.4874105%2C24.2627103 38.9709085%2C23.6773235 L39.3025292%2C23.6598484 L39.3025292%2C19.4136377 C39.3025292%2C19.0573123 39.543231%2C18.910297 39.8302215%2C19.0553956 Z M44.425%2C36.19 C46.675%2C36.19 48.175%2C38.08 48.175%2C41.905 C48.175%2C45.73 46.675%2C47.71 44.425%2C47.71 C42.16%2C47.71 40.66%2C45.73 40.66%2C41.905 C40.66%2C38.065 42.16%2C36.19 44.425%2C36.19 Z M36.9724568%2C36.6 L36.9724568%2C45.6596817 L39.0267754%2C45.6596817 L39.0267754%2C47.395756 L32.45%2C47.395756 L32.45%2C45.6596817 L34.799904%2C45.6596817 L34.799904%2C38.8320955 L32.8194818%2C38.8320955 L32.8194818%2C37.5045093 C33.8037812%2C37.3206897 34.5127428%2C37.0777851 35.1510743%2C36.7226194 L35.3615163%2C36.6 L36.9724568%2C36.6 Z M44.425%2C37.9 C43.465%2C37.9 42.745%2C38.8 42.745%2C41.905 C42.745%2C45.025 43.465%2C45.985 44.425%2C45.985 C45.37%2C45.985 46.09%2C45.025 46.09%2C41.905 C46.09%2C38.8 45.37%2C37.9 44.425%2C37.9 Z%22 id%3D%22%E5%BD%A2%E7%8A%B6%E7%BB%93%E5%90%88%22 fill%3D%22%23FFFFFF%22 fill-rule%3D%22nonzero%22%3E%3C%2Fpath%3E    %3C%2Fg%3E%3C%2Fsvg%3E"); }\n          .zeasn-whale-player .zeasn-whale-player-control .zeasn-whale-player-control-content .video-panel .video-btn.play {\n            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAf1JREFUeAHt2r9NxDAYh+EEqKCkomECRmADBDsAAyAK2AFGQIIdaOioYAMmoIYOEEj8CT9LiRRF8cXJXWxf/Eb6lMR2zvajyHI+XZZxIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggIBVILfWeKgoimJF3ewrvhT3eZ7/eOh2Ol0I8EZRHU+62J3O7DzMRGCflV55/tP5WrHpofvl76KBV7991c2hIugSE71wXcxy/aDynegnEmqAFrRm8bcKLhTrocYZbb9NqY77Z9UfRDuZEAPrALNV36piO8R4o+vTJuRQ/q42Z4q16Cblc0AOUF1N0t47duk41qe7d3QEcm1m9o5HinT2jq4yPduls3fsCdOnudk7nvhYz4O+7kZkxEn+6re3lOF5GbGPzKSTOOYQmCqgySuejv32zeG+mEf7LGo92j6qbRoJiB4oLk3NNuZYEXRdX8yr5fgrLioObcxG2mS200vCOuB0NeFTrkvIUv+h8nMFyQQL0Kxi0lnVEjlLqaWOhGoFV51bkNqKzGfZpWKjeo5zKdCm1ShLJzEw5K1oYNVv00tNDQR8q6vpOt3k6EDAqxrgUu7pgn72CG9V8Hsl/h1/LhryGvIMAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACEQv8AzwIpqirlK2xAAAAAElFTkSuQmCC"); }\n          .zeasn-whale-player .zeasn-whale-player-control .zeasn-whale-player-control-content .video-panel .video-btn.pause {\n            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAATpJREFUeAHt2lGKwjAABFDd23n/I+g9aioKaxlhwnYR5QUKZpgkzfuth4NBgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIEPgagWVZTuM5j+cx1t+n2Quua8bz531mz317f3PpMb2N8+yLjVW/8e7bLNP7zJ677R+3wX/P15umM45jpPxVttc+r/Zv85+2qJcFAGaXOgVYU+UiwOxSpwBrqlwEmF3qFGBNlYsAs0udAqypchFgdqlTgDVVLgLMLnUKsKbKRYDZpU4B1lS5CDC71CnAmioXAWaXOgVYU+UiwOxSpwBrqlwEmF3qFGBNlYvvALyEV0lZqD1FaU3KnhZ9/GR8EN/lLxl77fPxoC5AgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIfLHAFVeflDLSQq5DAAAAAElFTkSuQmCC"); }\n          .zeasn-whale-player .zeasn-whale-player-control .zeasn-whale-player-control-content .video-panel .video-btn.setting {\n            background-image: url("data:image/svg+xml,%3C%3Fxml version%3D%221.0%22 encoding%3D%22UTF-8%22%3F%3E%3Csvg width%3D%2280px%22 height%3D%2280px%22 viewBox%3D%220 0 80 80%22 version%3D%221.1%22 xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E    %3Ctitle%3EIcon%2Fnext%2Fsetitng%3C%2Ftitle%3E    %3Cg id%3D%22Icon%2Fnext%2Fsetitng%22 stroke%3D%22none%22 stroke-width%3D%221%22 fill%3D%22none%22 fill-rule%3D%22evenodd%22%3E        %3Ccircle id%3D%22%E6%A4%AD%E5%9C%86%E5%BD%A2%22 fill%3D%22%23FFFFFF%22 opacity%3D%220%22 cx%3D%2240%22 cy%3D%2240%22 r%3D%2240%22%3E%3C%2Fcircle%3E        %3Cpath d%3D%22M44.8039039%2C23.6925418 C44.5932985%2C26.4019911 46.6149105%2C28.7694825 49.3193021%2C28.9804994 C50.3584883%2C29.0615779 51.3964761%2C28.8093324 52.2831012%2C28.2602562 C54.2885041%2C30.3662851 55.7202684%2C32.9531509 56.4411073%2C35.7728146 C55.0694389%2C36.6838421 54.2451124%2C38.2232437 54.2460428%2C39.8720296 C54.2450434%2C41.5461371 55.0943594%2C43.1056819 56.5%2C44.0108585 C56.1172015%2C45.5852252 55.5117113%2C47.0966791 54.7018976%2C48.4993436 C54.0023046%2C49.715027 53.1554282%2C50.8394252 52.180517%2C51.8469663 C50.6696814%2C50.9997603 48.825118%2C51.0125678 47.3261457%2C51.8806698 C45.7621776%2C52.7847144 44.8196825%2C54.4758301 44.8720465%2C56.284061 C41.9416405%2C57.1643181 38.8281554%2C57.2341901 35.8613496%2C56.486283 C35.8183343%2C54.7731458 34.8882151%2C53.2060019 33.4064101%2C52.3499959 C31.8540855%2C51.4511388 29.9361535%2C51.4714874 28.4031777%2C52.4030792 C25.9721595%2C50.1202311 24.2667008%2C47.1701183 23.5%2C43.9215379 C25.0892668%2C43.0628986 26.0798841%2C41.3996095 26.079411%2C39.5906098 C26.079411%2C37.793359 25.1172833%2C36.2202379 23.6808198%2C35.3624782 C24.064622%2C34.0127419 24.6134847%2C32.715707 25.3149171%2C31.5008828 C26.1223438%2C30.0966604 27.1260284%2C28.8153134 28.2954941%2C27.6957338 C29.7804056%2C28.4627251 31.552778%2C28.4201795 32.9993231%2C27.5828263 C34.4256314%2C26.759576 35.3447514%2C25.274527 35.4466937%2C23.6285374 C38.4592434%2C22.7859118 41.7030604%2C22.7741155 44.8039039%2C23.6925418 Z M45.15625%2C39.9999959 C45.15625%2C37.1548906 42.8477203%2C34.8484807 40.0000001%2C34.8484807 C37.1522797%2C34.8484807 34.84375%2C37.1548906 34.84375%2C39.9999959 C34.84375%2C42.8451011 37.1522797%2C45.1515111 39.9999999%2C45.1515111 C42.8477203%2C45.1515111 45.15625%2C42.8451011 45.15625%2C39.9999959 Z%22 id%3D%22%E5%BD%A2%E7%8A%B6%22 fill%3D%22%23FFFFFF%22 fill-rule%3D%22nonzero%22%3E%3C%2Fpath%3E    %3C%2Fg%3E%3C%2Fsvg%3E"); }\n  .zeasn-whale-player .whale-player-fullscreen {\n    -o-object-fit: contain;\n       object-fit: contain;\n    -webkit-user-select: text;\n       -moz-user-select: text;\n            user-select: text;\n    position: fixed !important;\n    box-sizing: border-box !important;\n    min-width: 0px !important;\n    max-width: none !important;\n    min-height: 0px !important;\n    max-height: none !important;\n    width: 100% !important;\n    height: 100% !important;\n    transform: none !important;\n    left: 0 !important;\n    top: 0 !important;\n    bottom: 0 !important;\n    right: 0 !important;\n    margin: 0px !important;\n    z-index: 99999; }\n'),function(e){e.VIDEO="zeasn-whale-player-video",e.CONTROL="zeasn-whale-player-control",e.RETREAT="retreat",e.ADVANCE="advance",e.RETROGRESS="retrogress",e.SPEED="speed",e.PLAY="play",e.PAUSE="pause",e.MUTE="mute",e.SOUND="sound",e.FULLSCREEN="fullscreen",e.CANCEL_FULLSCREEN="cancelFullscreen",e.PLAY_BTN="play-btn",e.MUTE_BTN="mute-btn",e.FULLSCREEN_BTN="fullscreen-btn",e.PROGRESS_BAR="progress-bar",e.CURRENT_TIME="current-time",e.TOTAL_TIME="total-time",e.SETTING="setting"}(l||(l={})),e.EventType=void 0,(a=e.EventType||(e.EventType={})).PLAY_STARTED="STARTED",a.PLAY_FINISHED="FINISHED",a.PLAY_ERRO="RERROR",a.AD_INSERTED="AD_INSERTED",a.AD_COMPLETED="AD_COMPLETED",a.PLAY_PAUSED="PAUSED",a.PLAY_RESUMED="RESUMED",a.PLAYER_INIT="PLAYER_INIT",a.LOADEDMETADATA="LOADEDMETADATA",function(e){e[e.ENTER=13]="ENTER",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN"}(s||(s={})),function(e){e.I_INIT_FINISH="iframeInitFinish",e.START="start",e.PLAY="play",e.PAUSE="pause",e.ADVANCE="advance",e.RETREAT="retreat",e.STOP="stop",e.DESTROY="destroy",e.SET_STEP="setStep",e.ON_PLAYING="playing",e.ON_PAUSE="pause",e.ON_ENDED="ended",e.ON_TIMEUPDATE="timeupdate",e.ON_LOADEDMETADATA="loadedmetadata",e.ON_ERROR="error",e.AD_INSERTED="AD_INSERTED",e.AD_COMPLETED="AD_COMPLETED"}(c||(c={})),function(e){e.NO_MEDIA="没有视频url",e.AD_ERROR="广告播放异常"}(u||(u={})),function(e){e[e.LOAD=0]="LOAD",e[e.AD=1]="AD",e[e.MEDIA=2]="MEDIA",e[e.ERROR=3]="ERROR"}(d||(d={})),"function"==typeof SuppressedError&&SuppressedError;var A,g,D,T=function(e,n){var t,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.Event,i=n.type,r=n.bubbles,l=void 0!==r&&r,a=n.cancelable,s=void 0!==a&&a,c=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(t[o[i]]=e[o[i]])}return t}(n,["type","bubbles","cancelable"]);return null!=o?t=new o(i,{bubbles:l,cancelable:s}):(t=document.createEvent("HTMLEvents")).initEvent(i,l,s),Object.assign(t,c),null==e?void 0:e.dispatchEvent(t)},w=function(){return{scrollTop:window.pageYOffset||0,scrollLeft:window.pageXOffset||0}};!function(e){e[e.UP=38]="UP",e[e.DOWN=40]="DOWN",e[e.LEFT=37]="LEFT",e[e.RIGHT=39]="RIGHT",e[e.ENTER=13]="ENTER"}(A||(A={})),function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"}(g||(g={})),function(e){e.UP="up",e.DOWN="down",e.LEFT="left",e.RIGHT="right",e.BLUR="onBlur",e.FOCUS="onFocus",e.CLICK="click",e.LONGPRESS="longPress"}(D||(D={}));var L=function(){function e(){var n=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.focusClassName="onFocus",this.focusedAttrname="focused",this.focusItemAttrname="focusable",this.scrollItemAttrname="focusable-scroll",this.offsetDistance=30,this.isLongPress=!1,this.distanceToCenter=!1,this.animationsDuration=200,this.getElementPosition=function(e,n,t){var o=e.getBoundingClientRect(),i=o.left+t,r=o.top+n;return{rangeX:{start:i,end:o.width+i},rangeY:{start:r,end:o.height+r}}},this.getElementFocusPosition=function(){var e=w(),t=e.scrollTop,o=e.scrollLeft,i=n.getFocusEl();return i?n.getElementPosition(i,t,o):{rangeX:{start:0,end:0},rangeY:{start:0,end:0}}},this.smoothScroll=function(e,t,o,i){i&&(o.style.transitionDuration="".concat(n.animationsDuration,"ms")),o.style.transform="translate(-".concat(e,"px,-").concat(t,"px)")},this.scroll=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=o?e.parentElement:e,r=0,l=0;if(i){var a=i.clientWidth,s=i.clientHeight,c=e.scrollWidth-a,u=e.scrollHeight-s;if(!(u<=0&&c<=0)){if(o){var d=function(e){var n=e.style.transform,t=/translate\(([^)]+)\)/.exec(n),o=y(t?t[1].split(","):["0","0"],2),i=o[0],r=o[1];return i=i.replace("px",""),r=r.replace("px",""),{x:Math.abs(Number(i)),y:Math.abs(Number(r))}}(e);r=d.x,l=d.y}else r=i.scrollLeft,l=i.scrollTop;var C=n.getElementFocusPosition(),v=C.rangeX,E=C.rangeY,p=w(),f=p.scrollTop,h=p.scrollLeft,m=n.getElementPosition(i,f,h),A=m.rangeX,g=m.rangeY,D=o?E.end-g.start+l:E.end,T=o?E.start-g.start+l:E.start,L=o?v.end-A.start+r:v.end,b=o?v.start-A.start+r:v.start,F=b-r>=0&&L-r<=a,P=T-l>=0&&D-l<=s;if(F&&P&&!n.distanceToCenter)return null;console.log("X轴在窗口内：".concat(F,",Y轴在窗口内：").concat(P));var I,S,N,O,R,_,x,z,M,U,k=r,B=l;if(!F||n.distanceToCenter){var Y=n.distanceToCenter?a/2-(v.end-v.start)/2:n.offsetDistance;k=L-a+Y,b-r<0&&(k=b-Y),k>c&&(k=c),k<0&&(k=0)}if(!P||n.distanceToCenter){var G=n.distanceToCenter?s/2-(E.end-E.start)/2:n.offsetDistance;B=D-s+G,T-l<0&&(B=T-G),B>u&&(B=u),B<0&&(B=0)}o?n.smoothScroll(k,B,e,t):(I=k,S=B,N=n.animationsDuration,O=window.scrollX||window.pageXOffset,R=window.scrollY||window.pageYOffset,_=I-O,x=S-R,z=(new Date).getTime(),M=function(e,n,t,o){return(e/=o/2)<1?t/2*e*e*e*e+n:-t/2*((e-=2)*e*e*e-2)+n},U=setInterval((function(){var e=(new Date).getTime()-z,n=M(e,O,_,N),t=M(e,R,x,N);e>=N&&clearInterval(U),window.scrollTo(n,t)}),1e3/60)),i=null}}},this.longPressFn=function(e){},this.checkItemBelongScroll=function(e,t,o){var i=null,r=!1,l=!1,a={start:0,end:0},s={start:0,end:0};i=document.querySelectorAll("[".concat(n.scrollItemAttrname,"]"));for(var c=0;c<i.length;c++){var u=i[c];if(l=u.contains(e)){var d=n.getElementPosition(u.parentElement,t,o),C=d.rangeX,v=d.rangeY;r=u.contains(n.getFocusEl()),a=C,s=v;break}}return i=null,{belong:r,isScroll:l,scrollRangeX:a,scrollRangeY:s}},this.getNextFocusElementIndex=function(e){var n=null,t=-1;if(!e)return t;var o=e.some((function(e){return e.belong}));if(e.some((function(e){return e.overlap}))&&(e=e.filter((function(e){return e.overlap}))),o)e=e.filter((function(e){return e.belong})),n=Math.min.apply(Math,p(e.map((function(e){return e.hypotenuse}))));else{var i=e.filter((function(e){return e.isScr})),r=e.filter((function(e){return!e.isScr}));if(i.length>0&&r.length>0){var l=Math.min.apply(Math,p(i.map((function(e){return e.hypotenuse})))),a=Math.max.apply(Math,p(i.map((function(e){return e.hypotenuse})))),s=Math.min.apply(Math,p(r.map((function(e){return e.hypotenuse}))));n=s<a?s:l}else n=Math.min.apply(Math,p(e.map((function(e){return e.hypotenuse}))))}var c=e.find((function(e){return e.hypotenuse===n}));return c&&(t=c.index),t},this.getNextFocusElement=function(e){var t=n.limitingEl?n.limitingEl:document,o=t.querySelectorAll("[".concat(n.focusItemAttrname,"]")),i=[];if(!o||!o.length)return null;for(var r,l,a,s=n.getElementFocusPosition(),c=s.rangeX,u=s.rangeY,d=c.start,C=c.end,v=u.start,E=u.end,p=(C-d)/2+d,f=(E-v)/2+v,h=w(),m=h.scrollTop,y=h.scrollLeft,A=0;A<o.length;A++){var D=o[A];if(null===D.getAttribute(n.focusedAttrname)){var T=n.getElementPosition(D,m,y),L=T.rangeX,b=T.rangeY,F=L.start,P=L.end,I=b.start,S=b.end,N=(P-F)/2+F,O=(S-I)/2+I,R=P>d&&F<C&&S>v&&I<E,_=!1,x=0,z=0,M=0,U=0,k=!1,B=n.checkItemBelongScroll(D,m,y),Y=B.belong,G=B.isScroll,q=B.scrollRangeX,H=B.scrollRangeY;e!==g.UP&&e!==g.DOWN||(x=N-p,M=v+(E-v)/2,k=P>d&&F<C),e!==g.LEFT&&e!==g.RIGHT||(z=O-f,M=d+(C-d)/2,k=S>v&&I<E),e===g.UP?(z=E-O,_=M>S||R,!Y&&G&&H.end>M&&(_=!1)):e===g.DOWN?(z=O-v,_=I>M||R,!Y&&G&&H.start<M&&(_=!1)):e===g.LEFT?(x=C-N,_=M>P||R,!Y&&G&&q.end>M&&(_=!1)):e===g.RIGHT&&(x=N-d,_=F>M||R,!Y&&G&&q.start<M&&(_=!1)),_&&(r=Math.abs(z),l=Math.abs(x),void 0,a=Math.pow(r,2)+Math.pow(l,2),U=Math.sqrt(a),i.push({hypotenuse:U,overlap:k,belong:Y,isScroll:G,index:A}))}}var j=n.getNextFocusElementIndex(i);-1!==j&&n.onFocus(o[j],!1),i=null,t=o=null},this.handleDirectionFocusChange=function(e){var t=n.getFocusEl(),o=D.UP,i=g.UP;e===A.DOWN&&(o=D.DOWN,i=g.DOWN),e===A.LEFT&&(o=D.LEFT,i=g.LEFT),e===A.RIGHT&&(o=D.RIGHT,i=g.RIGHT),T(t,{type:o}),T(t,{type:D.BLUR}),n.getNextFocusElement(i),t=null},this.handleDirectionKeyLongPress=function(e){var t,o;n.longPressTimer||(n.handleDirectionFocusChange(e),n.longPressFn=(t=n.handleDirectionFocusChange,o=Date.now(),function(){if(Date.now()-o>=200){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(this,n),o=Date.now()}})),n.longPressTimer=setTimeout((function(){return n.longPressFn(e)}))},this.longPress=function(){T(n.getFocusEl(),{type:D.LONGPRESS}),n.longPressTimer=void 0,n.isLongPress=!0},this.onKeyDown=function(e){e.preventDefault(),e.stopPropagation(),e.keyCode!==A.ENTER?n.handleDirectionKeyLongPress(e.keyCode):!n.longPressTimer&&!n.isLongPress&&(n.longPressTimer=setTimeout(n.longPress,500))},this.onKeyUp=function(e){clearTimeout(n.longPressTimer),e.keyCode===A.ENTER&&(!n.isLongPress&&T(n.getFocusEl(),{type:D.CLICK}),n.isLongPress&&(n.isLongPress=!1)),n.longPressTimer=void 0,n.longPressFn=function(){}},this.getFocusEl=function(){return document.querySelector("[".concat(n.focusedAttrname,"]"))},this.onFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var o=n.getFocusEl();o&&(o.removeAttribute(n.focusedAttrname),o.classList.remove(n.focusClassName),o=null);var i=e.getAttribute("class")||"";e.setAttribute(n.focusedAttrname,""),n.handleScrollEl(t),e.setAttribute("class",i+" "+n.focusClassName),T(e,{type:D.FOCUS})}},this.setLimitingEl=function(e){return n.limitingEl=e},this.setDistanceToCenter=function(e){return n.distanceToCenter=e},this.setOffsetDistance=function(e){return n.offsetDistance=e},this.setFocusClassName=function(e){return n.focusClassName=e},this.setFocusedAttrname=function(e){return n.focusedAttrname=e},this.setFocusItemAttrname=function(e){return n.focusItemAttrname=e},this.setScrollItemAttrname=function(e){return n.scrollItemAttrname=e}}return t=[{key:"handleScrollEl",value:function(e){var n=this;document.querySelectorAll("[".concat(this.scrollItemAttrname,"]")).forEach((function(t){var o=t.contains(n.getFocusEl());o&&n.scroll(t,e,o)})),this.scroll(document.documentElement||document.body.parentNode,e)}}],o=[{key:"instence",get:function(){return this._instance=new e,this._instance}}],m((n=e).prototype,t),m(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,o}();L._instance=null;var b=L.instence;function F(n,t,o,i){var r,l,a,s=(r=n,l="https://liujiacai0518.github.io/dist_iframe/",(a=document.createElement("iframe")).src=l,a.width="100%",a.height="100%",a.style.border="0",a.allow="autoplay; fullscreen",a.style.pointerEvents="none",r.innerHTML="",r.appendChild(a),a),u=function(e,n){var t;null===(t=null==s?void 0:s.contentWindow)||void 0===t||t.postMessage({type:e,message:n},"*")},d=function(n){var r=n.data.type,l=n.data.message;switch(r){case c.I_INIT_FINISH:u(c.START,{media:t,zoneId:o});break;case c.ON_PLAYING:null==i||i.emit(c.ON_PLAYING);break;case c.ON_PAUSE:null==i||i.emit(c.ON_PAUSE);break;case c.ON_TIMEUPDATE:null==i||i.emit(c.ON_TIMEUPDATE,l);break;case c.ON_LOADEDMETADATA:null==i||i.emit(c.ON_LOADEDMETADATA,l);break;case c.ON_ERROR:null==i||i.emit(c.ON_ERROR);break;case c.SET_STEP:null==i||i.emit(c.SET_STEP,l);break;case c.AD_INSERTED:null==i||i.emit(e.EventType.AD_INSERTED);break;case c.AD_COMPLETED:null==i||i.emit(e.EventType.AD_COMPLETED);break;case c.ON_ENDED:null==i||i.emit(c.ON_ENDED)}};return window.addEventListener("message",d),{send:u,destroy:function(){window.removeEventListener("message",d),u(c.DESTROY),s=null},nextMediaPlay:function(e,n){return u(c.START,{media:e,zoneId:n})}}}var P=function(){function t(){var o=this;n(this,t),this.container=null,this.videoEl=null,this.media="",this.mediaTitle="",this.duration=0,this.isInit=!1,this.isPlay=!1,this.isFullscreen=!1,this.isMute=!1,this.playStep=d.LOAD,this.emit=function(e,n){var t;null===(t=o.emiter)||void 0===t||t.emit(e,n)},this.createPlayer=function(){var e={container:o.container,mediaTitle:o.mediaTitle,isPlay:o.isPlay,isMute:o.isMute,isFullscreen:o.isFullscreen,playStep:o.playStep};o.playerUi=function(e){var n=e.container,t=e.mediaTitle,o=e.isPlay,i=e.playStep,r="whale-player-fullscreen";n.innerHTML='<div class="zeasn-whale-player">\n    <div class="'.concat(l.VIDEO,'"></div>\n    <div class="zeasn-whale-player-control">\n      <div class="zeasn-whale-player-control-content">\n        <div class="video-title">').concat(t||"",'</div>\n        <div class="video-progress"><span class="').concat(l.PROGRESS_BAR,'"></span></div>\n        <div class="video-panel">\n          <div class="video-panel-left ').concat(l.CURRENT_TIME,'">00:00:00</div>\n          <div class="video-panel-con">\n            <button class="video-btn ').concat(l.RETREAT,'" focusable></button>\n            <button class="video-btn ').concat(l.PLAY_BTN," ").concat(o?l.PAUSE:l.PLAY,'" focusable></button>\n            <button class="video-btn ').concat(l.ADVANCE,'" focusable></button>\n          </div>\n          <div class="video-panel-right">\n            <button class="video-btn ').concat(l.SETTING,'" focusable></button>\n            <div class="').concat(l.TOTAL_TIME,'">00:00:00</div>\n          </div>\n        </div>\n    </div>\n  </div>');var a=o,c=i,u=void 0,v=null==n?void 0:n.querySelector(".".concat(l.VIDEO)),E=null==n?void 0:n.querySelector(".".concat(l.CONTROL)),p=null==n?void 0:n.querySelector(".".concat(l.PLAY_BTN)),f=null==n?void 0:n.querySelector(".".concat(l.MUTE_BTN)),h=null==n?void 0:n.querySelector(".".concat(l.FULLSCREEN_BTN)),m=null==n?void 0:n.querySelector(".".concat(l.PROGRESS_BAR)),y=null==n?void 0:n.querySelector(".".concat(l.TOTAL_TIME)),A=null==n?void 0:n.querySelector(".".concat(l.CURRENT_TIME)),g=!1;b.onFocus(p);var D=function(e,n,t){null==e||e.classList.remove(t),null==e||e.classList.add(n)},T=function(e){a=e,e?D(p,l.PAUSE,l.PLAY):D(p,l.PLAY,l.PAUSE),e?F():clearTimeout(u)},w=function(){clearTimeout(u),c===d.MEDIA&&(g=!0,null==E||E.classList.add("zeasn-whale-player-control-show"),a&&F())},L=function(){clearTimeout(u),g=!1,null==E||E.classList.remove("zeasn-whale-player-control-show")},F=function(){clearTimeout(u),u=setTimeout((function(){return L()}),5e3)},P=function(e){return"number"==typeof e&&e in s},I=function(e){e.preventDefault(),P(e.keyCode)&&(e.stopPropagation(),console.log("uiKeydown"),g&&b.onKeyDown(e))},S=function(e){e.preventDefault(),P(e.keyCode)&&(e.stopPropagation(),console.log("uiKeyUp"),g&&b.onKeyUp(e),w())},N=function(){document.addEventListener("keydown",I,!0),document.addEventListener("keyup",S,!0)},O=function(){document.removeEventListener("keydown",I,!0),document.removeEventListener("keyup",S,!0)};return{videoEl:v,setMute:function(e){e?D(f,l.SOUND,l.MUTE):D(f,l.MUTE,l.SOUND)},setPlay:T,setFullscreen:function(e){e?(null==v||v.classList.add(r),null==E||E.classList.add(r),w(),N(),D(h,l.CANCEL_FULLSCREEN,l.FULLSCREEN)):(null==v||v.classList.remove(r),null==E||E.classList.remove(r),L(),O(),D(h,l.FULLSCREEN,l.CANCEL_FULLSCREEN))},setCurrentTime:function(e){return A&&(A.innerHTML=C(e))},setTotalTime:function(e){return y&&(y.innerHTML=C(e))},setProgress:function(e){return m&&(m.style.width="".concat(e,"%"))},showControl:w,hideControl:L,setStep:function(e){return c=e},destroy:function(){clearTimeout(u),O(),v=E=p=f=h=m=y=A=null},nextMediaPlay:function(e,t){T(e);var o=n.querySelector(".video-title");o&&(o.innerHTML=t),o=null}}}(e),o.videoEl=o.playerUi.videoEl,o.videoIframe=F(o.videoEl,o.media,o.zoneId,o.emiter),o.isInit=!0},this.registerClickEvent=function(e,n){var t,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null===(t=o.container)||void 0===t?void 0:t.querySelector(".".concat(e));r instanceof HTMLElement&&(r.addEventListener("click",n,i),r.addEventListener("longPress",n))},this.removeClickEvent=function(e,n){var t,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null===(t=o.container)||void 0===t?void 0:t.querySelector(".".concat(e));r instanceof HTMLElement&&(r.removeEventListener("click",n,i),r.removeEventListener("longPress",n,i))},this.bindEvent=function(){o.registerClickEvent(l.PLAY_BTN,o.setPlayPause),o.registerClickEvent(l.ADVANCE,o.advance),o.registerClickEvent(l.RETREAT,o.retreat),o.registerClickEvent(l.VIDEO,o.changeControlDisplay),o.registerClickEvent(l.CONTROL,o.changeControlDisplay),o.registerClickEvent(l.SETTING,o.setting)},this.removeEvent=function(){o.removeClickEvent(l.PLAY_BTN,o.setPlayPause),o.removeClickEvent(l.ADVANCE,o.advance),o.removeClickEvent(l.RETREAT,o.retreat),o.removeClickEvent(l.VIDEO,o.changeControlDisplay),o.removeClickEvent(l.CONTROL,o.changeControlDisplay),o.removeClickEvent(l.SETTING,o.setting)},this.setPlayPause=function(){o.isPlay?o.pause():o.play()},this.changeControlDisplay=function(){var e,n;o.isFullscreen&&o.playStep===d.MEDIA?null===(e=o.playerUi)||void 0===e||e.showControl():null===(n=o.playerUi)||void 0===n||n.hideControl()},this.advance=function(){var e;return null===(e=o.videoIframe)||void 0===e?void 0:e.send(c.ADVANCE)},this.retreat=function(){var e;return null===(e=o.videoIframe)||void 0===e?void 0:e.send(c.RETREAT)},this.setting=function(){console.log("打开设置")},this.bindMediaEvent=function(){var e,n,t,i,r,l,a;null===(e=o.emiter)||void 0===e||e.on(c.ON_PLAYING,o.successPlaying),null===(n=o.emiter)||void 0===n||n.on(c.ON_PAUSE,o.successPause),null===(t=o.emiter)||void 0===t||t.on(c.ON_TIMEUPDATE,o.timeupdate),null===(i=o.emiter)||void 0===i||i.on(c.ON_LOADEDMETADATA,o.successLoaded),null===(r=o.emiter)||void 0===r||r.on(c.ON_ENDED,o.ended),null===(l=o.emiter)||void 0===l||l.on(c.SET_STEP,o.setStep),null===(a=o.emiter)||void 0===a||a.on(c.ON_ERROR,(function(){return console.log("文件加载错误")}))},this.removeMediaEvent=function(){var e,n,t,i,r,l,a;null===(e=o.emiter)||void 0===e||e.removeListener(c.ON_PLAYING,o.successPlaying),null===(n=o.emiter)||void 0===n||n.removeListener(c.ON_PAUSE,o.successPause),null===(t=o.emiter)||void 0===t||t.removeListener(c.ON_TIMEUPDATE,o.timeupdate),null===(i=o.emiter)||void 0===i||i.removeListener(c.ON_LOADEDMETADATA,o.successLoaded),null===(r=o.emiter)||void 0===r||r.removeListener(c.ON_ENDED,o.ended),null===(l=o.emiter)||void 0===l||l.removeListener(c.SET_STEP,o.setStep),null===(a=o.emiter)||void 0===a||a.removeListener(c.ON_ERROR,(function(){return console.log("文件加载错误")}))},this.successPlaying=function(){var n;o.isPlay=!0,null===(n=o.playerUi)||void 0===n||n.setPlay(o.isPlay),o.emit(e.EventType.PLAY_STARTED)},this.successPause=function(){var n;o.isPlay=!1,null===(n=o.playerUi)||void 0===n||n.setPlay(o.isPlay),o.emit(e.EventType.PLAY_PAUSED)},this.ended=function(){var n;o.isPlay=!1,null===(n=o.playerUi)||void 0===n||n.setPlay(o.isPlay),o.emit(e.EventType.PLAY_FINISHED)},this.timeupdate=function(e){var n,t,i=e.currentTime,r=100*i/o.duration;null===(n=o.playerUi)||void 0===n||n.setCurrentTime(i),null===(t=o.playerUi)||void 0===t||t.setProgress(r)},this.successLoaded=function(n){var t,i,r=n.isMute,l=n.duration;o.isMute=r,null===(t=o.playerUi)||void 0===t||t.setMute(o.isMute),o.duration=l,null===(i=o.playerUi)||void 0===i||i.setTotalTime(o.duration),o.emit(e.EventType.LOADEDMETADATA)},this.setStep=function(e){var n,t=e.step;o.playStep=t,null===(n=o.playerUi)||void 0===n||n.setStep(o.playStep),o.changeControlDisplay()},this.load=function(e){var n=e.media,t=e.zoneId,i=e.mediaTitle;console.log("加载"),o.media=n,o.zoneId=t,o.mediaTitle=i},this.init=function(n,t){n?(o.container=n,o.emiter=t,o.createPlayer(),o.bindEvent(),o.bindMediaEvent(),o.emit(e.EventType.PLAYER_INIT)):console.error("The video element parameter is missing！")},this.nextMediaPlay=function(){var e,n;o.isPlay=!1,null===(e=o.playerUi)||void 0===e||e.nextMediaPlay(o.isPlay,o.mediaTitle),null===(n=o.videoIframe)||void 0===n||n.nextMediaPlay(o.media,o.zoneId)},this.start=function(e,n){var t=e.element,i=e.media,r=e.zoneId,l=e.mediaTitle;o.load({media:i,zoneId:r,mediaTitle:l}),o.isInit?o.nextMediaPlay():o.init(t,n)},this.play=function(){var e;o.isInit&&(console.log("播放"),null===(e=o.videoIframe)||void 0===e||e.send(c.PLAY))},this.pause=function(){var e;o.isInit&&(console.log("暂停"),null===(e=o.videoIframe)||void 0===e||e.send(c.PAUSE))},this.stop=function(){var n;o.isInit&&(null===(n=o.videoIframe)||void 0===n||n.send(c.STOP),o.emit(e.EventType.PLAY_FINISHED))},this.setFullscreen=function(e){var n;o.isInit&&(o.isFullscreen=e,null===(n=o.playerUi)||void 0===n||n.setFullscreen(o.isFullscreen))},this.destroy=function(){var e,n;o.isInit=!1,o.removeEvent(),o.removeMediaEvent(),null===(e=o.playerUi)||void 0===e||e.destroy(),null===(n=o.videoIframe)||void 0===n||n.destroy(),o.container&&(o.container.innerHTML="")}}return r(t,null,[{key:"instence",get:function(){return this._instance=new t,this._instance}}])}();P._instance=null;var I=function(){function e(){n(this,e),this._events=Object.create(null)}return r(e,[{key:"on",value:function(e,n){this._events[e]||(this._events[e]=[]),this._events[e].push(n)}},{key:"emit",value:function(e){for(var n=this,t=arguments.length,o=new Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];this._events[e]&&this._events[e].forEach((function(e){e.apply(n,o)}))}},{key:"removeListener",value:function(e,n){this._events[e]&&(this._events[e]=this._events[e].filter((function(e){return e!==n})))}}],[{key:"instence",get:function(){return this._instance=new e,this._instance}}])}();I._instance=null,e.init=function(n){var t=P.instence,o=I.instence,i=n.element;n.cpId;var r=n.avodId||"",l=n.zoneId||"",a=n.media||"";n.skin,n.muted,n.allowRedirection,n.adPosition,n.mediaContent;var s=n.mediaTitle||"",c=function(e,n){o.on(e,n)};return c(e.EventType.PLAYER_INIT,(function(){console.log("播放器初始化大数据打点")})),{load:function(e){e&&(e.cpId,r=e.avodId||"",l=e.zoneId||"",a=e.media||"",e.skin,e.muted,e.allowRedirection,e.adPosition,e.mediaContent,s=e.mediaTitle||"")},start:function(){console.log("视频启动播放");var e={element:i,media:a,zoneId:l,mediaTitle:s};t.start(e,o)},pause:function(){return t.pause()},resume:function(){console.log("继续播放"),t.play()},stop:function(){t.stop(),console.log("player结束播放")},setPlayerFullscreen:function(){console.log("视频放大"),t.setFullscreen(!0)},setPlayerNormal:function(){console.log("视频缩小"),t.setFullscreen(!1)},setAvodId:function(e){if(!e)throw"没有传递avod id";r=e,console.log("设置avod id:"+r.toString())},destroy:function(){console.log("销毁player"),t.destroy()},on:c,off:function(e,n){o.removeListener(e,n)}}}}));
